{% extends "base.html" %}
{% block title %}
  Наш проект
{% endblock %}
{% block content %}
  <h1>Проект Watchers4play</h1>
  <!-- Добавим строку "row" -->
  <div class="row">
    <!-- Добавим колонку "col-3" -->
    <div>
      Ого! У нас то тут уже целых:
    </div>
    <button button type="button" class="btn custom-btn"><div id="total_count"></div><span>фильмов</span></button>
    <button button type="button" class="btn custom-btn"><div id="actors_count"></div><span>актёров</span></button>
    <button button type="button" class="btn custom-btn"><div id="directors_count"></div><span>режиссёров</span></button>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      function animateValue(id, start, end, duration) {
        var range = end - start;
        var current = start;
        var increment = end > start ? 1 : -1;
        var stepTime = Math.abs(Math.floor(duration / range));
        var obj = document.getElementById(id);
        var timer = setInterval(function() {
          current += increment;
          obj.innerHTML = current;
          if (current == end) {
            clearInterval(timer);
          }
        }, stepTime);
      }

      animateValue("total_count", 0, {{ total_count }}, 200,);
      animateValue("actors_count", 0, {{ actors_count }}, 1000);
      animateValue("directors_count", 0, {{ directors_count }}, 1000);
    });
  </script>
{% endblock %} 
